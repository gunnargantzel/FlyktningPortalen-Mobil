<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frav√¶r Registrering - Clean</title>
    <meta name="description" content="App for flyktninger til √• registrere deltakelse og frav√¶r">
    <meta name="theme-color" content="#0078d4">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>Laster app...</p>
    </div>

    <!-- Login Screen -->
    <div id="login-screen" class="screen hidden">
        <div class="login-container">
            <div class="login-header">
                <h1>Frav√¶r Registrering</h1>
                <p>For flyktninger</p>
            </div>
            <div class="login-content">
                <button id="login-btn" class="btn btn-primary">
                    <span class="icon">üîê</span>
                    Logg inn
                </button>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="main-screen" class="screen hidden">
        <div class="screen-header">
            <h1>Frav√¶r Registrering</h1>
            <button id="logout-btn" class="btn-logout">Logg ut</button>
        </div>
        <div class="screen-content">
            <div class="menu-cards">
                <div class="menu-card">
                    <h3>Registrer deltakelse</h3>
                    <p>Meld frav√¶r eller deltakelse</p>
                    <button class="btn btn-primary">Start</button>
                </div>
                <div class="menu-card">
                    <h3>Se oversikt</h3>
                    <p>Se din frav√¶rsoversikt</p>
                    <button class="btn btn-secondary">√Öpne</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Simple App Script -->
    <script>
        console.log('=== CLEAN APP STARTING ===');
        console.log('Timestamp:', new Date().toISOString());
        
        class CleanApp {
            constructor() {
                console.log('üöÄ CleanApp constructor called');
                this.currentScreen = 'loading-screen';
                this.initialized = false;
            }
            
            async initialize() {
                if (this.initialized) {
                    console.log('App already initialized, skipping...');
                    return;
                }
                
                console.log('üîß Initializing CleanApp...');
                this.initialized = true;
                
                // Show login screen after 2 seconds
                setTimeout(() => {
                    this.showScreen('login-screen');
                }, 2000);
                
                // Set up event listeners
                this.setupEventListeners();
                
                console.log('‚úÖ CleanApp initialized successfully');
            }
            
            showScreen(screenId) {
                console.log('üì± Showing screen:', screenId);
                
                // Hide all screens
                document.querySelectorAll('.screen').forEach(screen => {
                    screen.classList.add('hidden');
                });
                
                // Show target screen
                const targetScreen = document.getElementById(screenId);
                if (targetScreen) {
                    targetScreen.classList.remove('hidden');
                    this.currentScreen = screenId;
                }
            }
            
            setupEventListeners() {
                console.log('üîó Setting up event listeners...');
                
                // Login button
                const loginBtn = document.getElementById('login-btn');
                if (loginBtn) {
                    loginBtn.addEventListener('click', () => {
                        console.log('üîê Login button clicked');
                        this.showScreen('main-screen');
                    });
                }
                
                // Logout button
                const logoutBtn = document.getElementById('logout-btn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', () => {
                        console.log('üö™ Logout button clicked');
                        this.showScreen('login-screen');
                    });
                }
                
                console.log('‚úÖ Event listeners set up');
            }
        }
        
        // Initialize app when page loads
        window.addEventListener('load', () => {
            console.log('üåê Window loaded, creating CleanApp...');
            window.cleanApp = new CleanApp();
            window.cleanApp.initialize();
        });
        
        console.log('=== CLEAN APP SCRIPT LOADED ===');
    </script>
</body>
</html>
